<!DOCTYPE html>
<html>
<head>
    <title>Datahub index</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="http://netdna.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <style type="text/css">
        .container {
            max-width: 500px;
            padding-top: 100px;
        }
    </style>
</head>
<body>
<div class="container">
    <H3>Broker Listing: {{hostname}}</H3>
    <table class="table table-bordered table-striped">
        <thead>
        <tr>
            <td>Name</td>
            <td>Path</td>
            <td>Revision</td>
            <td>Storage Method</td>
            <td>Style</td>
            <td>Description</td>
        </tr>
        </thead>
        <tbody>


        {% for n in my_list %}
        <tr>
            {% set url="http://localhost/datahub/view/{}?protocol={}".format(n.path,n.storage_method)%}
            <td>{{n.name}}</td>
            <td>{{n.path}}</td>
            <td>{{n.revision_id}}</td>
            <td>{{n.storage_method}}</td>
            <td>{{n.memory_style}}</td>
            <td>{{n.description}}</td>
            <td> <a href="{{url}}">View</a></td>

        </tr>
        {% endfor %}
        </tbody>
    </table>

</div>
<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
</body>
</html>